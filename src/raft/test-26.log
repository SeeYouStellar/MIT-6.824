=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 76986 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 78032 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1011893589500751477 (index 1) to leader 2
flag 10293 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 72293 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
flag 71002 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27596 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
flag 20032 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 26026 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
flag 56879 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 31216 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
flag 40463 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 44912 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
flag 70805 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 29664 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 3653 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68030 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
client write log 1311162247773418378 (index 2) to leader 2
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1011893589500751477 1 1} {1311162247773418378 1 2}]
------------------------------------------------------
flag 6598 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58833 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1011893589500751477 1 1} {1311162247773418378 1 2}]
------------------------------------------------------
flag 9753 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 73855 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1011893589500751477 1 1} {1311162247773418378 1 2}]
------------------------------------------------------
client write log 8723700455143914983 (index 3) to leader 2
client write log 4072699721396776810 (index 4) to leader 2
client write log 5378705901250160937 (index 5) to leader 2
client write log 1228746108505658685 (index 6) to leader 2
client write log 6582360614089345394 (index 7) to leader 2
client write log 8564066334097919139 (index 8) to leader 2
client write log 6323140088233417731 (index 9) to leader 2
client write log 9083182645830649228 (index 10) to leader 2
client write log 7565627730065177500 (index 11) to leader 2
client write log 4968068968244768183 (index 12) to leader 2
client write log 3491767361477391307 (index 13) to leader 2
client write log 207369684222182529 (index 14) to leader 2
client write log 8151544528401708989 (index 15) to leader 2
flag 8049 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 71826 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{<nil> 0 0} {1011893589500751477 1 1} {1311162247773418378 1 2} {8723700455143914983 1 3} {4072699721396776810 1 4} {5378705901250160937 1 5} {1228746108505658685 1 6} {6582360614089345394 1 7} {8564066334097919139 1 8} {6323140088233417731 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 37499 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9150837606002175476 (index 16) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 2->1
------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 86520 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 70836 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 36393 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 80219 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 99343 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 1926 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 97673 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 23678 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 29174 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 88205 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 14452 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 59363 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 18249 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 26047 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 44484 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 78540 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 69240 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 10247 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 70399 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 15016 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 36030 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 10364 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 40180 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 12741 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 82738 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 45576 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 17152 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 43235 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 66874 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 91989 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 63012 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 21336 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 69073 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 21777 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
flag 22798 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 59528 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16}]
------------------------------------------------------
client write log 9150837606002175476 (index 17) to leader 2
flag 68800 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 38842 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
flag 48586 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 19177 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
flag 41264 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 55137 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
flag 21797 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 39021 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
flag 21532 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 47080 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
flag 73686 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 56346 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 76185 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 38428 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 96622 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 92017 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 14897 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 64773 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 39786 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 80112 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17}]
------------------------------------------------------
client write log 7154509854204694537 (index 18) to leader 1
flag 4761 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11741 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 74233 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17} {7154509854204694537 4 18}]
------------------------------------------------------
flag 90980 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 30906 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 34068 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17} {7154509854204694537 4 18}]
------------------------------------------------------
client write log 6061102083747453246 (index 19) to leader 1
flag 32953 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 95689 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 58663 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {9083182645830649228 1 10} {7565627730065177500 1 11} {4968068968244768183 1 12} {3491767361477391307 1 13} {207369684222182529 1 14} {8151544528401708989 1 15} {9150837606002175476 1 16} {9150837606002175476 3 17} {7154509854204694537 4 18} {6061102083747453246 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 95101 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 81024 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 42003 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 17
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
!!!!!!connect server 2
client write log 486303883087612979 (index 20) to leader 1
flag 50853 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54367 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 7017 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
flag 93654 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 51110 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
flag 2158 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 63597 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
flag 66389 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 60938 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12760 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 15064 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 32150 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 1687 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {486303883087612979 4 20}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 4135779508657303960 (index 21) to leader 1
flag 69141 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 4341 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {486303883087612979 4 20} {4135779508657303960 4 21}]
------------------------------------------------------
flag 49500 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 67024 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {486303883087612979 4 20} {4135779508657303960 4 21}]
------------------------------------------------------
client write log 8215921185989660453 (index 22) to leader 1
client write log 8493006381455423364 (index 23) to leader 1
client write log 1814427980465742390 (index 24) to leader 1
client write log 8236441522517440693 (index 25) to leader 1
client write log 276897375423215320 (index 26) to leader 1
client write log 5114260157738353190 (index 27) to leader 1
client write log 4945765138287896802 (index 28) to leader 1
client write log 2630198219250573591 (index 29) to leader 1
flag 94684 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 38475 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {486303883087612979 4 20} {4135779508657303960 4 21} {8215921185989660453 4 22} {8493006381455423364 4 23} {1814427980465742390 4 24} {8236441522517440693 4 25} {276897375423215320 4 26} {5114260157738353190 4 27} {4945765138287896802 4 28} {2630198219250573591 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 97852 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5383004656144222167 (index 30) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 4901 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 27975 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
flag 77168 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 21  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 80018 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 36570 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34324 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 94042 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 55501 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 53879 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 87872 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 75488 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 80806 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 895 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76680 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 50047 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 66581 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 15729 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66434 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 92974 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54876 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 82517 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 37448 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 25705 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 21334 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 3945 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70815 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 16274 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 95534 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 21557 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46387 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 61399 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 33691 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 75851 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 15752 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 8843 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99695 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 42766 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
flag 81133 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 24789 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {5383004656144222167 4 30}]
------------------------------------------------------
client write log 5383004656144222167 (index 31) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30363 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 98686 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
flag 9898 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 50565 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
flag 67091 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 24485 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19717 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 65015 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75512 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 42375 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 35734 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 32701 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36221 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 39181 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2834528712696578831 (index 32) to leader 1
flag 25954 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 4094 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31} {2834528712696578831 6 32}]
------------------------------------------------------
flag 91465 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 76210 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31} {2834528712696578831 6 32}]
------------------------------------------------------
client write log 4981085290058794756 (index 33) to leader 1
client write log 8866737047531398347 (index 34) to leader 1
client write log 2094433250999877987 (index 35) to leader 1
client write log 7254661849009343176 (index 36) to leader 1
client write log 4266471731398444064 (index 37) to leader 1
client write log 6580962572709205141 (index 38) to leader 1
client write log 2668208245770011769 (index 39) to leader 1
client write log 2813370032718073084 (index 40) to leader 1
client write log 5722243937555947158 (index 41) to leader 1
client write log 563033787020180348 (index 42) to leader 1
client write log 3139321756554592638 (index 43) to leader 1
client write log 6275580648186146261 (index 44) to leader 1
client write log 6297262976303805467 (index 45) to leader 1
client write log 783771450603617797 (index 46) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57350 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 601 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {5383004656144222167 4 30} {5383004656144222167 6 31} {2834528712696578831 6 32} {4981085290058794756 6 33} {8866737047531398347 6 34} {2094433250999877987 6 35} {7254661849009343176 6 36} {4266471731398444064 6 37} {6580962572709205141 6 38} {2668208245770011769 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
flag 25905 term 6 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 6 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2686127998622019904 (index 47) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 6425 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 51958 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 48->47
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
flag 74196 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 41321 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 45173 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26865 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 70757 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 88228 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 5982 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 21860 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 97074 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 70732 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 25584 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 26902 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 92537 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74455 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 18316 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20013 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 33365 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43281 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 84775 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 55956 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 53207 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97603 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 90975 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 37601 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 45803 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 51323 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 10827 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53892 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 59862 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 13820 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 14860 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 50931 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 3655 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
flag 56905 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 43949 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14471 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 25296 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47}]
------------------------------------------------------
client write log 2686127998622019904 (index 48) to leader 1
flag 70590 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 92837 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
flag 69519 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 18203 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
flag 15120 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 71746 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
flag 4908 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 5538 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
flag 20708 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 69417 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
flag 66404 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 13808 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
flag 47208 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 3354 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 26039 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 22404 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 20968 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 83741 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 17931 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 73811 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 36742 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 11958 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
client write log 8960416541852415563 (index 49) to leader 2
flag 55607 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 7414 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {2813370032718073084 6 40} {5722243937555947158 6 41} {563033787020180348 6 42} {3139321756554592638 6 43} {6275580648186146261 6 44} {6297262976303805467 6 45} {783771450603617797 6 46} {2686127998622019904 6 47} {2686127998622019904 8 48} {8960416541852415563 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 49->48
------------------------------------------------------
flag 15874 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 25456 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 49->48
------------------------------------------------------
flag 63369 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
client write log 3844022617522460209 (index 50) to leader 2
client write log 2556857459341490604 (index 51) to leader 2
client write log 8325988832292570369 (index 52) to leader 2
client write log 2314073994150978992 (index 53) to leader 2
client write log 467374488144588346 (index 54) to leader 2
client write log 3570508518603614787 (index 55) to leader 2
client write log 8990406711914779749 (index 56) to leader 2
client write log 3935263279870631710 (index 57) to leader 2
client write log 7458773641089307528 (index 58) to leader 2
client write log 3073223052452658778 (index 59) to leader 2
client write log 8136332682440501421 (index 60) to leader 2
flag 87956 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 62453 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
flag 83872 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {3844022617522460209 9 50} {2556857459341490604 9 51} {8325988832292570369 9 52} {2314073994150978992 9 53} {467374488144588346 9 54} {3570508518603614787 9 55} {8990406711914779749 9 56} {3935263279870631710 9 57} {7458773641089307528 9 58} {3073223052452658778 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
flag 10978 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 53986 term 9 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4844972640038120496 (index 49) to leader 1
flag 78784 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51511 term 9 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 75105 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 76311 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 61->60
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 32321 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 59718 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 36795 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 64154 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 1039 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 5828 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 19017 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 17390 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 46982 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 33447 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99413 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 41472 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 51893 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 51475 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 22149 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 38743 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 4891 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 8630 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 71557 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 87112 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 98512 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 71588 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 24898 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 9365 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 6841 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 51168 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 72189 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 47880 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 25721 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 6764 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44854 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 81127 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63396 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 55068 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
flag 13710 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 26477 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8136332682440501421 9 60}]
------------------------------------------------------
client write log 4844972640038120496 (index 61) to leader 2
flag 35815 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 35939 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
flag 86880 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 36939 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71738 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 66666 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
flag 35071 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 58803 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
flag 21823 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 46137 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19850 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 29377 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
flag 41790 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 95315 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8106588711109448166 (index 62) to leader 2
flag 72364 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 17787 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42283 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 26748 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62}]
------------------------------------------------------
client write log 8505068005929883179 (index 63) to leader 2
client write log 5123480424108332043 (index 64) to leader 2
client write log 6450023268087001261 (index 65) to leader 2
client write log 4906199517572609705 (index 66) to leader 2
client write log 6172109139326443063 (index 67) to leader 2
client write log 5337923764748186166 (index 68) to leader 2
flag 7160 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 6279 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91725 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 93658 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68}]
------------------------------------------------------
!!!!!!connect server 0
client write log 870063245377161960 (index 69) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 74630 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 37137 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
flag 96464 term 13 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 45987 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 93210 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 49333 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 15070 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 92025 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 95859 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 44755 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47311 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 68974 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 18223 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 42636 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 23505 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 19303 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 99071 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 21770 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 81455 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 40620 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 63886 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 16654 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4760 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 9351 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 40960 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 83422 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 81948 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 99123 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 68942 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 99298 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 36950 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 40905 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 81319 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 88138 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 41169 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 85419 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
flag 50613 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 51424 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69}]
------------------------------------------------------
client write log 870063245377161960 (index 70) to leader 2
flag 98717 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 88524 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {8136332682440501421 9 60} {4844972640038120496 11 61} {8106588711109448166 11 62} {8505068005929883179 11 63} {5123480424108332043 11 64} {6450023268087001261 11 65} {4906199517572609705 11 66} {6172109139326443063 11 67} {5337923764748186166 11 68} {870063245377161960 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 67880 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 21193 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67635 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 91858 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
flag 96598 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 55684 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
flag 69795 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 8029 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82172 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 5573 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49828 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 62710 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {870063245377161960 13 70}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9156904967447180172 (index 71) to leader 2
flag 17008 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 67353 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {870063245377161960 13 70} {9156904967447180172 13 71}]
------------------------------------------------------
flag 82913 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 66735 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {870063245377161960 13 70} {9156904967447180172 13 71}]
------------------------------------------------------
client write log 2328336305312621137 (index 72) to leader 2
client write log 3706549474115893588 (index 73) to leader 2
client write log 9166550981286816310 (index 74) to leader 2
client write log 6453827864812832798 (index 75) to leader 2
client write log 6287893951875084398 (index 76) to leader 2
client write log 21573326616862015 (index 77) to leader 2
client write log 6026232389060375695 (index 78) to leader 2
client write log 4989458946343112724 (index 79) to leader 2
client write log 5716441657705144512 (index 80) to leader 2
client write log 3769663458430601923 (index 81) to leader 2
client write log 7424895199861848616 (index 82) to leader 2
flag 83858 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 89582 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 69} {870063245377161960 13 70} {9156904967447180172 13 71} {2328336305312621137 13 72} {3706549474115893588 13 73} {9166550981286816310 13 74} {6453827864812832798 13 75} {6287893951875084398 13 76} {21573326616862015 13 77} {6026232389060375695 13 78} {4989458946343112724 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=82
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 61699 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4329262154758337749 (index 83) to leader 2
term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 8381 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get outdate rpc reply from server 0
flag 28681 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 2515 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 84->83
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 90902 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 2629 term 15 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 46169 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
flag 95031 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 49445 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
flag 16051 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 96636 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65541 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 67774 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
flag 45741 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 66901 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
flag 33906 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 69549 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67448 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 3766 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23997 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 98653 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 37299 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 32089 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 638 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 17909 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
flag 2207 term 16 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 25097 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83}]
------------------------------------------------------
flag 27740 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 74832 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
client write log 4624419481132945448 (index 84) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80464 term 16 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 46903 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83} {4624419481132945448 16 84}]
------------------------------------------------------
flag 74657 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24539 term 16 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 65098 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83} {4624419481132945448 16 84}]
------------------------------------------------------
flag 83087 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
client write log 3035657741186602674 (index 85) to leader 0
client write log 8528641726475556976 (index 86) to leader 0
client write log 3070249688044968485 (index 87) to leader 0
client write log 5940517479572929496 (index 88) to leader 0
client write log 8933354875405878170 (index 89) to leader 0
client write log 1582881991362750557 (index 90) to leader 0
client write log 83760890836198693 (index 91) to leader 0
client write log 6853592597390856500 (index 92) to leader 0
client write log 4141897941359138491 (index 93) to leader 0
client write log 3716859416325176818 (index 94) to leader 0
client write log 2815660387621029817 (index 95) to leader 0
client write log 7736081492438847781 (index 96) to leader 0
flag 63543 term 16 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 74851 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 79} {5716441657705144512 13 80} {3769663458430601923 13 81} {7424895199861848616 13 82} {4329262154758337749 13 83} {4624419481132945448 16 84} {3035657741186602674 16 85} {8528641726475556976 16 86} {3070249688044968485 16 87} {5940517479572929496 16 88} {8933354875405878170 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 68220 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4912 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 59740 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4954267170834799658 (index 84) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53478 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 99010 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 90->89
------------------------------------------------------
flag 84878 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 0  matchIndex[2]: 89
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 2 InstallSnapshot fail
rf.commitIndex 89 args.LastIncludedIndex 89
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45248 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 96759 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 66053 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 48713 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 59999 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 68043 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22908 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 94348 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 90869 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 66736 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81480 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 36912 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 33400 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 40595 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3722 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 60910 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32327 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 59313 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 69347 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 6589 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 32434 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 81871 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 97->96
------------------------------------------------------
flag 88367 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 0  matchIndex[2]: 96
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 2 InstallSnapshot fail
rf.commitIndex 96 args.LastIncludedIndex 89
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94879 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 42677 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 91441 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 40068 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 42080 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 3928 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95966 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 45766 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
flag 73019 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 20804 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31583 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 90016 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96}]
------------------------------------------------------
client write log 4954267170834799658 (index 97) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23489 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 48317 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
flag 66561 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 45799 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97411 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 98053 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
flag 28916 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 92180 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
flag 54961 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 29549 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
flag 76226 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 34908 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
flag 85887 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 3644 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6854905234154879608 (index 98) to leader 0
flag 39150 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 89693 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97} {6854905234154879608 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69359 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 13684 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97} {6854905234154879608 16 98}]
------------------------------------------------------
client write log 8066713361427457854 (index 99) to leader 0
client write log 2418224157989543556 (index 100) to leader 0
client write log 7792468082348728164 (index 101) to leader 0
client write log 6863994447796449508 (index 102) to leader 0
client write log 3253315836612741034 (index 103) to leader 0
client write log 5131386798212423068 (index 104) to leader 0
client write log 6303403297325385298 (index 105) to leader 0
client write log 7181570102301541620 (index 106) to leader 0
client write log 8533812605989274380 (index 107) to leader 0
client write log 2284406206743527583 (index 108) to leader 0
client write log 3992160198750162955 (index 109) to leader 0
flag 16624 term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 65403 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 89} {1582881991362750557 16 90} {83760890836198693 16 91} {6853592597390856500 16 92} {4141897941359138491 16 93} {3716859416325176818 16 94} {2815660387621029817 16 95} {7736081492438847781 16 96} {4954267170834799658 16 97} {6854905234154879608 16 98} {8066713361427457854 16 99} {2418224157989543556 16 100} {7792468082348728164 16 101} {6863994447796449508 16 102} {3253315836612741034 16 103} {5131386798212423068 16 104} {6303403297325385298 16 105} {7181570102301541620 16 106} {8533812605989274380 16 107} {2284406206743527583 16 108} {3992160198750162955 16 109}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 68108 term 16 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5931082891932139744 (index 110) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 54295 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 17612 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 111->110
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 36254 term 18 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
flag 77867 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 45333 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 42064 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 53457 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 13456 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 39469 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28897 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 43902 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 63810 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 55877 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 81406 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 4669 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 34420 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 38831 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 46641 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 12423 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 91236 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 64714 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 99263 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 72958 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32089 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 47536 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23466 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 36805 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 90998 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 66749 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 51057 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 84313 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 48674 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 31240 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 7597 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 62300 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
flag 47065 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 27925 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {5931082891932139744 16 110}]
------------------------------------------------------
client write log 5931082891932139744 (index 111) to leader 0
flag 59314 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 16104 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91909 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 11616 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39547 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 28894 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
flag 76609 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 30124 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
flag 42407 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 80203 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
flag 18141 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 51245 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 308365348356243594 (index 112) to leader 0
flag 61156 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 61334 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111} {308365348356243594 18 112}]
------------------------------------------------------
flag 17852 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 478 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111} {308365348356243594 18 112}]
------------------------------------------------------
client write log 6153885679733348625 (index 113) to leader 0
client write log 930130510594188074 (index 114) to leader 0
client write log 893583232065746208 (index 115) to leader 0
client write log 9168192312277090559 (index 116) to leader 0
client write log 7898539777851418600 (index 117) to leader 0
client write log 2978031023694001396 (index 118) to leader 0
client write log 8505315088098613696 (index 119) to leader 0
client write log 8257066837066826762 (index 120) to leader 0
client write log 7462334637382819444 (index 121) to leader 0
client write log 4757708113798543485 (index 122) to leader 0
client write log 8188946752775306277 (index 123) to leader 0
client write log 1628409003405295789 (index 124) to leader 0
client write log 8731305318946956803 (index 125) to leader 0
client write log 7249588372908613903 (index 126) to leader 0
client write log 2050662097266835360 (index 127) to leader 0
flag 66579 term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 90370 term 18 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 18 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 109} {5931082891932139744 16 110} {5931082891932139744 18 111} {308365348356243594 18 112} {6153885679733348625 18 113} {930130510594188074 18 114} {893583232065746208 18 115} {9168192312277090559 18 116} {7898539777851418600 18 117} {2978031023694001396 18 118} {8505315088098613696 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127}]
------------------------------------------------------
term 18 Server0 start snapshot! index=119
term 18 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 54799 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127}]
------------------------------------------------------
term 18 Server2 start snapshot! index=119
term 18 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7914665841684979253 (index 128) to leader 0
term 18 server 2 not vote for server 1, 日志不够新
term 18 server 0 not vote for server 1, 日志不够新
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get outdate rpc reply from server 1
flag 35414 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 16812 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 129->128
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 94939 term 20 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 18 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 6124 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 52163 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 99882 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 51743 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 32276 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 64741 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 1113 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 86244 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47863 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 76577 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 91981 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 22033 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 67072 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 70144 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 96850 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 93336 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 96253 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 83365 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 78328 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 88997 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 33294 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 60909 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 31464 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 57369 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 50985 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 20818 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 85717 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 37395 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3283 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 84682 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 53538 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 31654 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
flag 55000 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 94777 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128}]
------------------------------------------------------
client write log 7914665841684979253 (index 129) to leader 0
flag 90163 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 53433 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128} {7914665841684979253 20 129}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 119} {8257066837066826762 18 120} {7462334637382819444 18 121} {4757708113798543485 18 122} {8188946752775306277 18 123} {1628409003405295789 18 124} {8731305318946956803 18 125} {7249588372908613903 18 126} {2050662097266835360 18 127} {7914665841684979253 18 128} {7914665841684979253 20 129}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 61547 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 72840 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 Server2 start snapshot! index=129
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 79467 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 55520 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 41774 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 66990 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16528 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 92099 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 87125 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 38566 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 23909 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 51572 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 24023 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 12635 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 18727 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 78508 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 23336 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 54582 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67995 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 59754 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 not vote for server 1, 投给了其他人
term 21 server 1 not vote for server 2, 投给了其他人
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 18998 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 80005 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 28853 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
flag 54067 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 82499 term 22 leader 1 nextIndex[2]: 130  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 652 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
client write log 2430617495627578718 (index 130) to leader 1
flag 59816 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 44457 term 22 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {2430617495627578718 22 130}]
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 11006 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 29212 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 50406 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {2430617495627578718 22 130}]
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 39766 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
client write log 7293939242419825010 (index 131) to leader 1
client write log 7697032280626951826 (index 132) to leader 1
client write log 4744398244082525739 (index 133) to leader 1
client write log 7260934590679967728 (index 134) to leader 1
client write log 2396795440771804104 (index 135) to leader 1
client write log 955408481890556811 (index 136) to leader 1
client write log 6020566814666524543 (index 137) to leader 1
client write log 6814939883325633630 (index 138) to leader 1
flag 85992 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 49490 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 22 leaderCommit: 130 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 20 129} {2430617495627578718 22 130} {7293939242419825010 22 131} {7697032280626951826 22 132} {4744398244082525739 22 133} {7260934590679967728 22 134} {2396795440771804104 22 135} {955408481890556811 22 136} {6020566814666524543 22 137} {6814939883325633630 22 138}]
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 65745 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 81441 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 138 
------------------------------------------------------
flag 87769 term 22 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 22 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 138 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 20 129} {2430617495627578718 22 130} {7293939242419825010 22 131} {7697032280626951826 22 132} {4744398244082525739 22 133} {7260934590679967728 22 134} {2396795440771804104 22 135} {955408481890556811 22 136} {6020566814666524543 22 137} {6814939883325633630 22 138}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4791538485533339021 (index 139) to leader 1
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 28350 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94669 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 138 
------------------------------------------------------
flag 69557 term 22 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 22 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 22 leaderCommit: 138 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 20 129} {2430617495627578718 22 130} {7293939242419825010 22 131} {7697032280626951826 22 132} {4744398244082525739 22 133} {7260934590679967728 22 134} {2396795440771804104 22 135} {955408481890556811 22 136} {6020566814666524543 22 137} {6814939883325633630 22 138} {4791538485533339021 22 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 20 129} {2430617495627578718 22 130} {7293939242419825010 22 131} {7697032280626951826 22 132} {4744398244082525739 22 133} {7260934590679967728 22 134} {2396795440771804104 22 135} {955408481890556811 22 136} {6020566814666524543 22 137} {6814939883325633630 22 138} {4791538485533339021 22 139}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 50310 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 17332 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 Server0 start snapshot! index=139
term 22 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18977 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 61393 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
flag 16577 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 16015 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8742 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 42098 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
flag 44041 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 54382 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
flag 22992 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 35854 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 726271419676154988 (index 140) to leader 1
flag 51857 term 22 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 71669 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 139} {726271419676154988 22 140}]
------------------------------------------------------
flag 31251 term 22 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 22 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 140 
------------------------------------------------------
flag 79897 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 140 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 139} {726271419676154988 22 140}]
------------------------------------------------------
client write log 1127648264173755203 (index 141) to leader 1
client write log 431803785645839085 (index 142) to leader 1
client write log 9008149291949626086 (index 143) to leader 1
client write log 8258751093044852605 (index 144) to leader 1
client write log 3375513032728178701 (index 145) to leader 1
client write log 828213668104941256 (index 146) to leader 1
client write log 4926132761064759902 (index 147) to leader 1
client write log 2773835004572229086 (index 148) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91775 term 22 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 22 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 140 
------------------------------------------------------
flag 65428 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 140 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80654 term 22 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 22 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 97934 term 22 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 22 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4666413207267482106 (index 149) to leader 1
term 22 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 24 server 2 vote for server 1
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 48234 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 9722 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 150->149
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 150->149
------------------------------------------------------
flag 90393 term 24 leader 1 nextIndex[0]: 149  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 35206 term 24 leader 1 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 66676 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 69610 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 38302 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 79880 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 28340 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 99836 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 13333 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 90882 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55135 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 5535 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6273 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 99658 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 74070 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 15222 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 70164 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 2999 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 2644 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 8089 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2216 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 70302 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 35352 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 92481 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 13339 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 83060 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97017 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 51235 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 16520 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 3484 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 66512 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 59678 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7347 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 38830 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
flag 71371 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 26798 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149}]
------------------------------------------------------
client write log 4666413207267482106 (index 150) to leader 1
flag 55444 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
flag 4119 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 148 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:148 
term 24 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 139} {726271419676154988 22 140} {1127648264173755203 22 141} {431803785645839085 22 142} {9008149291949626086 22 143} {8258751093044852605 22 144} {3375513032728178701 22 145} {828213668104941256 22 146} {4926132761064759902 22 147} {2773835004572229086 22 148} {4666413207267482106 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
flag 96838 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 35760 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 993 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 70167 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
flag 96910 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 90186 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
flag 58962 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 60319 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
flag 99745 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 64785 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28414 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 26723 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 22 149} {4666413207267482106 24 150}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5586720985241371276 (index 151) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95500 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 71281 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {4666413207267482106 24 150} {5586720985241371276 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29043 term 24 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 24 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 57530 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 22 149} {4666413207267482106 24 150} {5586720985241371276 24 151}]
------------------------------------------------------
client write log 2964210409882683328 (index 152) to leader 1
client write log 3947602507820128137 (index 153) to leader 1
client write log 267415642223810250 (index 154) to leader 1
client write log 6605568540019305858 (index 155) to leader 1
client write log 7616413142131090580 (index 156) to leader 1
client write log 4667928070334672369 (index 157) to leader 1
client write log 6743436614328943043 (index 158) to leader 1
client write log 24958458967121696 (index 159) to leader 1
flag 68085 term 24 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 24 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 62208 term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 149} {4666413207267482106 24 150} {5586720985241371276 24 151} {2964210409882683328 24 152} {3947602507820128137 24 153} {267415642223810250 24 154} {6605568540019305858 24 155} {7616413142131090580 24 156} {4667928070334672369 24 157} {6743436614328943043 24 158} {24958458967121696 24 159}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12147 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5368207565594082883 (index 160) to leader 1
flag 41549 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 49953 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 58770 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71906 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 151  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 11033 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 34568 term 26 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 2397 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 75788 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27875 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 3182 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19854 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 31317 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 39337 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 33116 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 36960 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 2436 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 6263 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 93908 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 57091 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 67213 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 54 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 46618 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5189 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 23332 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22025 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 38624 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57606 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 22702 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 47277 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 55643 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 52192 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 79611 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 55536 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 26727 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
flag 44558 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 4049 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52889 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 85389 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 24 159} {5368207565594082883 24 160}]
------------------------------------------------------
client write log 5368207565594082883 (index 161) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82641 term 26 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 30000 term 26 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99744 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 97100 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17527 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 64518 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55007 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 53862 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
flag 83151 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 86814 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22137 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 71611 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
flag 17211 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 81188 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 21667 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 70625 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 87073 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 38976 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 44194 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 59672 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 85318 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 33259 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 0
term 27 server 2 become leader
------------------------------------------------------
flag 51814 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 59570 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161}]
------------------------------------------------------
flag 92350 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 47810 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
client write log 1986165991207081913 (index 162) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33125 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 34298 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161} {1986165991207081913 27 162}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35459 term 26 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 67390 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
flag 19115 term 27 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 27 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 81734 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161} {1986165991207081913 27 162}]
------------------------------------------------------
client write log 6655679565317325381 (index 163) to leader 2
client write log 8737748465931861225 (index 164) to leader 2
client write log 8488877787444500718 (index 165) to leader 2
client write log 655263463939135682 (index 166) to leader 2
client write log 6250852723261706241 (index 167) to leader 2
client write log 8540525977200139056 (index 168) to leader 2
client write log 5164557498016114810 (index 169) to leader 2
client write log 4526943135118584179 (index 170) to leader 2
client write log 8947793691872614350 (index 171) to leader 2
client write log 6199313915497658518 (index 172) to leader 2
client write log 6306899870358837838 (index 173) to leader 2
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 161
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 83721 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 29484 term 27 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 27 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 20866 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 159} {5368207565594082883 24 160} {5368207565594082883 26 161} {1986165991207081913 27 162} {6655679565317325381 27 163} {8737748465931861225 27 164} {8488877787444500718 27 165} {655263463939135682 27 166} {6250852723261706241 27 167} {8540525977200139056 27 168} {5164557498016114810 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=173
-------------------------------------------------------------
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 161
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 63076 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 47696 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=173
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1972238533387547648 (index 162) to leader 1
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 161
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 87271 term 26 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 26 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23546 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 27 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
flag 47781 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 169 args.LastIncludedIndex 169
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26503 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 54738 term 27 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 12155 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 3681 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 90834 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 70687 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41602 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 38218 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 22650 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 83384 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78578 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 38233 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 36856 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 97506 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 1 not vote for server 2, 日志不够新
term 27 server 2 get outdate rpc reply from server 1
flag 93491 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 22538 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59180 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 23556 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 10258 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 3206 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 1 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 1
flag 38747 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 39202 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
flag 8254 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 leader 2 nextIndex[1]: 0  matchIndex[1]: 173
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 173 args.LastIncludedIndex 169
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 49599 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 81633 term 27 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 80615 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 67640 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 54747 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 86397 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 68933 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 34539 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
flag 10300 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 76077 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15055 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 70105 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173}]
------------------------------------------------------
client write log 1972238533387547648 (index 174) to leader 2
flag 33085 term 27 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 84654 term 27 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 27 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
flag 74908 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
flag 10419 term 27 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70668 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
flag 33128 term 27 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40548 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
flag 71093 term 27 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
flag 61238 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
flag 75187 term 27 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 175->174
------------------------------------------------------
flag 95828 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 leader 2 nextIndex[1]: 0  matchIndex[1]: 174
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 174 args.LastIncludedIndex 169
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6703470332859924488 (index 175) to leader 2
flag 27771 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
flag 23506 term 27 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 174 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174} {6703470332859924488 27 175}]
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 5276 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 10396 term 27 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174} {6703470332859924488 27 175}]
------------------------------------------------------
client write log 5936256831039688784 (index 176) to leader 2
client write log 5423650074186902183 (index 177) to leader 2
client write log 5856005973035729827 (index 178) to leader 2
client write log 6222088429635801894 (index 179) to leader 2
client write log 1088644223642752275 (index 180) to leader 2
client write log 1924201005618061828 (index 181) to leader 2
client write log 6469217001924375036 (index 182) to leader 2
client write log 8245109512156821359 (index 183) to leader 2
client write log 6103206906475804773 (index 184) to leader 2
client write log 5053703033360813891 (index 185) to leader 2
flag 68681 term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
flag 82952 term 27 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 27 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 27 leaderCommit: 175 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 169} {4526943135118584179 27 170} {8947793691872614350 27 171} {6199313915497658518 27 172} {6306899870358837838 27 173} {1972238533387547648 27 174} {6703470332859924488 27 175} {5936256831039688784 27 176} {5423650074186902183 27 177} {5856005973035729827 27 178} {6222088429635801894 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185}]
------------------------------------------------------
term 27 Server2 start snapshot! index=179
term 27 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=185
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 64771 term 27 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 27 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185}]
------------------------------------------------------
term 27 Server1 start snapshot! index=179
term 27 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7623102927142592458 (index 186) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get outdate rpc reply from server 0
flag 96426 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 47341 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 187->186
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 175  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 18639 term 29 leader 2 nextIndex[1]: 186  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 27 rf.commitIndex 179 rf.lastApplied 179
flag 46536 term 29 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 53844 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
flag 27833 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 18566 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19209 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 63968 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 7189 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 27221 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 49349 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 36059 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 21886 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 65152 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15564 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 54130 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 69634 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 29965 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 59139 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 59137 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 43048 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 52701 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 93901 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 31672 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 46572 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 79861 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 8264 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 4364 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41068 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 95381 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57233 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 97416 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72264 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 59145 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
flag 41998 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 88421 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186}]
------------------------------------------------------
client write log 7623102927142592458 (index 187) to leader 2
flag 7127 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
flag 77575 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 27 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
flag 83800 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 82754 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
flag 77876 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 67015 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
flag 53393 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 80684 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
flag 82684 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 44921 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
flag 36504 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 14018 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 534060304500786400 (index 188) to leader 2
flag 42419 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 52622 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187} {534060304500786400 29 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10581 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 20007 term 29 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 29 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187} {534060304500786400 29 188}]
------------------------------------------------------
client write log 3357951285427839901 (index 189) to leader 2
client write log 4344156697234144806 (index 190) to leader 2
client write log 8904667114783133841 (index 191) to leader 2
client write log 266288937586166107 (index 192) to leader 2
client write log 4348701610570281967 (index 193) to leader 2
client write log 6265160024046292753 (index 194) to leader 2
client write log 9177089051934513033 (index 195) to leader 2
client write log 2372627770721874736 (index 196) to leader 2
flag 46484 term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 81991 term 29 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 29 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 27 179} {1088644223642752275 27 180} {1924201005618061828 27 181} {6469217001924375036 27 182} {8245109512156821359 27 183} {6103206906475804773 27 184} {5053703033360813891 27 185} {7623102927142592458 27 186} {7623102927142592458 29 187} {534060304500786400 29 188} {3357951285427839901 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=196
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 94340 term 29 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 29 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=196
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 5103498625488954951 (index 197) to leader 2
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 0
flag 99424 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 60211 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 198->197
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 198->197
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 24793 term 31 leader 2 nextIndex[1]: 197  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 3052 term 31 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 31 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 35717 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 28819 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 67168 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 21132 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 98852 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 61423 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 69169 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 37471 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 49218 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 83670 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 81325 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 18145 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 78835 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 35443 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 3374 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 733 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 99065 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 69084 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 12634 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 87995 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 16512 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 22221 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 85083 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 29977 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 40454 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 91683 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 64556 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 71787 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 15669 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46994 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 12496 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 22440 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 20000 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
flag 12193 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 73341 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197}]
------------------------------------------------------
client write log 5103498625488954951 (index 198) to leader 2
flag 79971 term 31 leader 2 nextIndex[0]: 198  matchIndex[0]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 36144 term 31 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 31 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
flag 922 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 72260 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
flag 23569 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 14346 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
flag 78233 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 23789 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
flag 3801 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 3541 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46051 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 7060 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
flag 85818 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 68586 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83551 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 84417 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 78950 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 72174 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 7235 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 50207 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
flag 51275 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 25758 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 55811 term 32 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 60979 term 32 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198}]
------------------------------------------------------
client write log 6197910860722409209 (index 199) to leader 0
flag 80911 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 61073 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 90849 term 32 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 32 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 91662 term 32 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 189} {4344156697234144806 29 190} {8904667114783133841 29 191} {266288937586166107 29 192} {4348701610570281967 29 193} {6265160024046292753 29 194} {9177089051934513033 29 195} {2372627770721874736 29 196} {5103498625488954951 29 197} {5103498625488954951 31 198} {6197910860722409209 32 199}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 33861 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 29367 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 38526 term 32 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
client write log 1637387290324905251 (index 200) to leader 0
client write log 3135768915749156510 (index 201) to leader 0
client write log 5167805990295312404 (index 202) to leader 0
client write log 8658907133319305667 (index 203) to leader 0
client write log 1229345115811910382 (index 204) to leader 0
client write log 8759751149111124148 (index 205) to leader 0
client write log 4598642933846528386 (index 206) to leader 0
client write log 8924970423734957011 (index 207) to leader 0
flag 69293 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 97103 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 32054 term 32 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 91786 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 55720 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 14848 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6633916840134139613 (index 199) to leader 2
flag 79788 term 31 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
flag 95724 term 31 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 31 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 31 leaderCommit: 198 
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 32 server 0 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47025 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4083 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 56995 term 32 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 18224 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 79780 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 72749 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 93577 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 68876 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 82976 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 77160 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 19768 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 47420 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 73067 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 72924 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 89030 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 56949 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 72828 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44585 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 14640 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 36524 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 14322 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60734 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 24096 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 29793 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 77042 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81493 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 57094 term 32 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72307 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 87196 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 40059 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 48105 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 74225 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 86416 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 87411 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 81827 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 81407 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 30621 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
flag 26340 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 3529 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207}]
------------------------------------------------------
client write log 6633916840134139613 (index 208) to leader 0
flag 91189 term 32 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
flag 56727 term 32 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 32 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 207 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
flag 6949 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 58293 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93411 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 34295 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41283 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 39121 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
flag 65786 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 20417 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
flag 33178 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 49912 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98479 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 32635 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8508786954214226140 (index 209) to leader 0
flag 83219 term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
flag 99376 term 32 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 32 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 32 leaderCommit: 208 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 199} {1637387290324905251 32 200} {3135768915749156510 32 201} {5167805990295312404 32 202} {8658907133319305667 32 203} {1229345115811910382 32 204} {8759751149111124148 32 205} {4598642933846528386 32 206} {8924970423734957011 32 207} {6633916840134139613 32 208} {8508786954214226140 32 209}]
------------------------------------------------------
term 32 Server0 start snapshot! index=209
term 32 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 44351 term 32 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 209}]
------------------------------------------------------
term 32 Server2 start snapshot! index=209
term 32 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 1868320677435345316 (index 210) to leader 0
client write log 3282582368259304322 (index 211) to leader 0
client write log 8397623074692511164 (index 212) to leader 0
client write log 8699690284442418959 (index 213) to leader 0
client write log 6909821016113584138 (index 214) to leader 0
client write log 8281209064898989333 (index 215) to leader 0
term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 92282 term 32 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 32 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 209 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 75888 term 32 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 32 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6783481641767369330 (index 216) to leader 0
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 1 vote for server 0
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 87006 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 84921 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 217->216
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 29990 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 32 rf.commitIndex 209 rf.lastApplied 209
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 66455 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 60582 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 94369 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 43525 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79021 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 90284 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 91498 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 1566 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77370 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 98374 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 10526 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 1855 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 4113 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 95855 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 63691 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 5760 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17567 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 43834 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 94183 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 17669 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 7235 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 40943 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 75942 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 62900 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10608 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 98665 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
flag 32804 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 2282 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87185 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 97749 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84284 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 74051 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83324 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 5449 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2465 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 9727 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216}]
------------------------------------------------------
client write log 6783481641767369330 (index 217) to leader 0
flag 93050 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 27275 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
flag 84525 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 52214 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
flag 32240 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 92643 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
flag 91709 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 91502 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
flag 41594 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 99884 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15820 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 18495 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76948 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 60430 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6759589900675191688 (index 218) to leader 0
flag 65838 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 83843 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217} {6759589900675191688 34 218}]
------------------------------------------------------
flag 55275 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 23514 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217} {6759589900675191688 34 218}]
------------------------------------------------------
client write log 7328820105752065537 (index 219) to leader 0
client write log 2253418112067931138 (index 220) to leader 0
client write log 8598652340925573039 (index 221) to leader 0
client write log 2598162150521628909 (index 222) to leader 0
client write log 6652381698885892450 (index 223) to leader 0
client write log 7731355551079827512 (index 224) to leader 0
client write log 8734653642185212320 (index 225) to leader 0
client write log 6042362574223678473 (index 226) to leader 0
client write log 3477048461690547931 (index 227) to leader 0
client write log 2347178038101540557 (index 228) to leader 0
client write log 5762294390017801208 (index 229) to leader 0
client write log 4931778561135323848 (index 230) to leader 0
client write log 8654629169635181965 (index 231) to leader 0
client write log 2837152788371110039 (index 232) to leader 0
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42743 term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 19102 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 32 209} {1868320677435345316 32 210} {3282582368259304322 32 211} {8397623074692511164 32 212} {8699690284442418959 32 213} {6909821016113584138 32 214} {8281209064898989333 32 215} {6783481641767369330 32 216} {6783481641767369330 34 217} {6759589900675191688 34 218} {7328820105752065537 34 219} {2253418112067931138 34 220} {8598652340925573039 34 221} {2598162150521628909 34 222} {6652381698885892450 34 223} {7731355551079827512 34 224} {8734653642185212320 34 225} {6042362574223678473 34 226} {3477048461690547931 34 227} {2347178038101540557 34 228} {5762294390017801208 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=232
-------------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 91643 term 34 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 34 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=232
-------------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3193674926249814929 (index 233) to leader 0
term 34 server 2 not vote for server 1, 日志不够新
term 34 server 0 not vote for server 1, 日志不够新
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 62271 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 93107 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 234->233
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 234->233
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 218  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 14949 term 36 leader 0 nextIndex[2]: 233  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
flag 1997 term 36 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 46741 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 31795 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 17187 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70365 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 45841 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 26593 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 94885 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 22505 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 5389 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 73423 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 81695 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98483 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 28919 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 79531 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 99412 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 47406 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 4919 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 11918 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 49003 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 93929 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 5035 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 41469 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 21656 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71760 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 78297 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 41421 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 89790 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 27858 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 73398 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 84516 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 56899 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 40220 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 69389 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
flag 81670 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 85090 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233}]
------------------------------------------------------
client write log 3193674926249814929 (index 234) to leader 0
flag 74894 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 53521 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 52653 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 96686 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 17361 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 53017 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 39414 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 79554 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 60579 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 92323 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 47485 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 3253 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 48199 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 270 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 5252 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 32130 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 52752 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 69321 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 24233 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 15110 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
flag 47359 term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 93753 term 37 leader 1 nextIndex[2]: 235  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234}]
------------------------------------------------------
flag 69168 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 72251 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
client write log 6872446083275828625 (index 235) to leader 1
flag 83100 term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 21664 term 37 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234} {6872446083275828625 37 235}]
------------------------------------------------------
flag 73913 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 24846 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57352 term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 90097 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234} {6872446083275828625 37 235}]
------------------------------------------------------
flag 27851 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 2924 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
client write log 460050820670001619 (index 236) to leader 1
client write log 8333107007918370287 (index 237) to leader 1
client write log 2764759521133271683 (index 238) to leader 1
client write log 8270720768206261625 (index 239) to leader 1
client write log 1838558407654141264 (index 240) to leader 1
client write log 8834529735533793717 (index 241) to leader 1
client write log 2697732930573945568 (index 242) to leader 1
client write log 977688624532818577 (index 243) to leader 1
client write log 6190882811476367496 (index 244) to leader 1
client write log 7947080297107224808 (index 245) to leader 1
client write log 7708431425200601943 (index 246) to leader 1
flag 69217 term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 12060 term 37 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 34 229} {4931778561135323848 34 230} {8654629169635181965 34 231} {2837152788371110039 34 232} {3193674926249814929 34 233} {3193674926249814929 36 234} {6872446083275828625 37 235} {460050820670001619 37 236} {8333107007918370287 37 237} {2764759521133271683 37 238} {8270720768206261625 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=246
-------------------------------------------------------------
flag 63125 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 83096 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 22212 term 37 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 37 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3279695820012088193 (index 247) to leader 1
flag 63087 term 36 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 15315 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
term 37 server 1 AppendEntries false 领导者任期过期 args.Term 36
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 41893 term 37 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 37 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 37 leaderCommit: 246 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 37 rf.commitIndex 239 rf.lastApplied 239
term 37 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
flag 85010 term 37 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 26465 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29765 term 37 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 12119 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
flag 96343 term 37 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 8353 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
flag 97470 term 37 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 10153 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
flag 17475 term 37 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 99376 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
flag 89468 term 37 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 80302 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1205315726198614837 (index 248) to leader 1
flag 33183 term 37 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 74441 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247} {1205315726198614837 37 248}]
------------------------------------------------------
flag 79133 term 37 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 37 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
flag 32748 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247} {1205315726198614837 37 248}]
------------------------------------------------------
client write log 7885027476580590535 (index 249) to leader 1
client write log 1542025776709469217 (index 250) to leader 1
client write log 7920317702006634218 (index 251) to leader 1
client write log 3342571718862016617 (index 252) to leader 1
client write log 1135929240076946005 (index 253) to leader 1
client write log 1019791359262002402 (index 254) to leader 1
flag 96797 term 37 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 37 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
flag 47492 term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 239} {1838558407654141264 37 240} {8834529735533793717 37 241} {2697732930573945568 37 242} {977688624532818577 37 243} {6190882811476367496 37 244} {7947080297107224808 37 245} {7708431425200601943 37 246} {3279695820012088193 37 247} {1205315726198614837 37 248} {7885027476580590535 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254}]
------------------------------------------------------
term 37 Server1 start snapshot! index=249
term 37 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1484 term 37 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 37 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254}]
------------------------------------------------------
term 37 Server0 start snapshot! index=249
term 37 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3531618922679736418 (index 255) to leader 1
flag 53077 term 37 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 37 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
term 38 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50289 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 13966 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
flag 92163 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 34093 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 21178 term 39 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 42485 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 60966 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71944 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 23825 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 1252 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 65785 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
flag 43 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 72917 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 10004 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 63946 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 20406 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 87205 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 21825 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 19895 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 18501 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 93848 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87826 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 8915 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11280 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 90900 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 58016 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 55683 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
flag 2609 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 91193 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58690 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 90785 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32043 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 64577 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63184 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 18295 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255}]
------------------------------------------------------
client write log 3531618922679736418 (index 256) to leader 1
flag 6 term 39 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 42297 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19478 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 74685 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
flag 27879 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 28307 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79306 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 89417 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96821 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 56388 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
flag 52857 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 96455 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
flag 74437 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 25334 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
update nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8410697281451709957 (index 257) to leader 1
flag 77334 term 39 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 61807 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256} {8410697281451709957 39 257}]
------------------------------------------------------
flag 30017 term 39 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 55479 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256} {8410697281451709957 39 257}]
------------------------------------------------------
client write log 3805570043133340552 (index 258) to leader 1
client write log 7498580268212625084 (index 259) to leader 1
client write log 4467215145836108919 (index 260) to leader 1
client write log 4564010317540263433 (index 261) to leader 1
client write log 3522678882875141105 (index 262) to leader 1
client write log 205540811870088116 (index 263) to leader 1
flag 14878 term 39 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 81912 term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 37 249} {1542025776709469217 37 250} {7920317702006634218 37 251} {3342571718862016617 37 252} {1135929240076946005 37 253} {1019791359262002402 37 254} {3531618922679736418 37 255} {3531618922679736418 39 256} {8410697281451709957 39 257} {3805570043133340552 39 258} {7498580268212625084 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263}]
------------------------------------------------------
term 39 Server1 start snapshot! index=259
term 39 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5876 term 39 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8541143716120486465 (index 264) to leader 1
flag 54016 term 39 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 40 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 0
flag 6908 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 24140 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 57 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 257  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 44723 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 80590 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 65498 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 88010 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 32264 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 62579 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89224 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 70778 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 56517 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 98780 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 63216 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 89365 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45065 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 66233 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 14595 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 46742 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29291 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 61493 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 10017 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 68998 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 16629 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 56078 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 18395 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 10546 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 20498 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 23424 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 60303 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 59859 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
flag 31383 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 35312 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73351 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 8962 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95647 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 19796 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264}]
------------------------------------------------------
client write log 8541143716120486465 (index 265) to leader 1
flag 64173 term 41 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 16730 term 41 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49852 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 58040 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60550 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 40998 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20787 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 31835 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
flag 93215 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 36955 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
flag 27102 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 78281 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
flag 33699 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 88163 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 7517 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 53915 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 1524 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 73313 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79676 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 97071 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 75392 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 19259 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
flag 51499 term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 64673 term 42 leader 0 nextIndex[2]: 266  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
client write log 7157113243153701866 (index 266) to leader 0
term 42 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266}]
------------------------------------------------------
flag 49347 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 74884 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 7969 term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 67082 term 42 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266}]
------------------------------------------------------
flag 63708 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 29483 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35244 term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 266 
------------------------------------------------------
flag 73369 term 42 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266}]
------------------------------------------------------
client write log 3168614733792116728 (index 267) to leader 0
flag 42551 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 39986 term 41 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 266->265
------------------------------------------------------
flag 86711 term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 266 
------------------------------------------------------
flag 53965 term 42 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 57149 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 265
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 74084 term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 267 
------------------------------------------------------
flag 18720 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3634598000070969346 (index 266) to leader 1
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85400 term 41 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 41 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 265
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 0 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28520 term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 267 
------------------------------------------------------
flag 4992 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68845 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 82193 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 42625 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 13582 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 67741 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 43423 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 49177 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 42070 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 3924 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 59666 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 65871 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 77460 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 2494 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 74460 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 77186 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 73420 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 267
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 92473 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 267 args.LastIncludedIndex 259
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 68171 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 4336 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98855 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 38652 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 90044 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 72553 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 78523 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 10061 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 41149 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 58098 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 267
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 84391 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 267 args.LastIncludedIndex 259
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8086 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 76053 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51140 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 42894 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
flag 58548 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 11845 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75330 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 30740 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267}]
------------------------------------------------------
client write log 3634598000070969346 (index 268) to leader 0
flag 36379 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 17837 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
flag 58080 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 85307 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52725 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 74998 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1595 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 44105 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74356 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 96813 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
flag 76925 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 8792 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
flag 50642 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 8014 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9058109186767390057 (index 269) to leader 0
flag 69411 term 42 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 73293 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 259} {4467215145836108919 39 260} {4564010317540263433 39 261} {3522678882875141105 39 262} {205540811870088116 39 263} {8541143716120486465 39 264} {8541143716120486465 41 265} {7157113243153701866 42 266} {3168614733792116728 42 267} {3634598000070969346 42 268} {9058109186767390057 42 269}]
------------------------------------------------------
term 42 Server0 start snapshot! index=269
term 42 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 269->268
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 60963 term 42 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 42 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 42 269}]
------------------------------------------------------
client write log 7836534016249023221 (index 270) to leader 0
client write log 3767650594698542639 (index 271) to leader 0
client write log 4815678925145664451 (index 272) to leader 0
client write log 8318092926833804455 (index 273) to leader 0
client write log 4198310861095810515 (index 274) to leader 0
client write log 8130687811016618213 (index 275) to leader 0
client write log 8274135865148695919 (index 276) to leader 0
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 5697553733064657014 (index 277) to leader 0
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 8132 term 42 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 42 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277}]
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 9997 term 42 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 42 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6910501340667486059 (index 278) to leader 0
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 3027 term 42 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 42 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
term 44 server 0 get outdate rpc reply from server 2
flag 13820 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 70915 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 269  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 16406 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
flag 35402 term 44 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 44 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 4885 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
flag 82601 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 73613 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
flag 25547 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 14850 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20677 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 35626 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
flag 74382 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 82708 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46577 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 27277 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
flag 2919 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 9570 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7933403158403674825 (index 279) to leader 0
flag 50148 term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 81386 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 269} {7836534016249023221 42 270} {3767650594698542639 42 271} {4815678925145664451 42 272} {8318092926833804455 42 273} {4198310861095810515 42 274} {8130687811016618213 42 275} {8274135865148695919 42 276} {5697553733064657014 42 277} {6910501340667486059 42 278} {7933403158403674825 44 279}]
------------------------------------------------------
term 44 Server0 start snapshot! index=279
term 44 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 42126 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 279 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 44 279}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 8753321823820651712 (index 280) to leader 0
client write log 1159329270380554203 (index 281) to leader 0
client write log 2932051582333509312 (index 282) to leader 0
client write log 684645802131858151 (index 283) to leader 0
client write log 4456359445766482868 (index 284) to leader 0
client write log 528157539755197419 (index 285) to leader 0
client write log 8825988154119651509 (index 286) to leader 0
client write log 8509747003143680780 (index 287) to leader 0
client write log 310173125756809028 (index 288) to leader 0
client write log 7893160094153170620 (index 289) to leader 0
client write log 7337614640771829318 (index 290) to leader 0
client write log 5824559330532598455 (index 291) to leader 0
client write log 5561416641034593947 (index 292) to leader 0
client write log 5424363046788546765 (index 293) to leader 0
term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 21281 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 279 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 279} {8753321823820651712 44 280} {1159329270380554203 44 281} {2932051582333509312 44 282} {684645802131858151 44 283} {4456359445766482868 44 284} {528157539755197419 44 285} {8825988154119651509 44 286} {8509747003143680780 44 287} {310173125756809028 44 288} {7893160094153170620 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293}]
------------------------------------------------------
term 44 Server0 start snapshot! index=289
term 44 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 47345 term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293}]
------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3660443082825764894 (index 294) to leader 0
term 44 server 0 not vote for server 1, 日志不够新
term 44 server 2 not vote for server 1, 日志不够新
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 93164 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 18123 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 295->294
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 97121 term 46 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 44 rf.commitIndex 289 rf.lastApplied 289
flag 7547 term 46 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 30665 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 12257 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 24922 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48170 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 5239 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 23159 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 81859 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 79568 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 66307 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 50286 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 30861 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54243 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 53252 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62994 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 35604 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 87058 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 34837 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 70033 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 84909 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 38350 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 63206 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 46666 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 8771 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50880 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 43222 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 36310 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 75240 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1473 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 23318 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 25175 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 50805 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 2028 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 56635 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294}]
------------------------------------------------------
flag 38111 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 62683 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
client write log 3660443082825764894 (index 295) to leader 0
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
flag 89684 term 46 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
flag 19446 term 46 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 46 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2302 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 37558 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74926 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 71192 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
flag 98528 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 41621 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
flag 59919 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 67346 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
flag 45793 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 9271 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75020 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 12852 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 36385 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 5262 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 67363 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 48655 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
flag 23797 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 23286 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295}]
------------------------------------------------------
client write log 5984437379947654299 (index 296) to leader 2
flag 59133 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 73660 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 2410 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 12797 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296}]
------------------------------------------------------
flag 63300 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 2073 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 50022 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 30618 term 47 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 47 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296}]
------------------------------------------------------
client write log 6303399867230390627 (index 297) to leader 2
flag 96588 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
flag 32854 term 46 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 296->295
------------------------------------------------------
flag 10741 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 30682 term 47 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 47 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297}]
------------------------------------------------------
flag 4205 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 295
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 441 term 47 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 49399 term 47 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9101933216090023078 (index 298) to leader 2
flag 89722 term 46 leader 0 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 295
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 1 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 88715 term 47 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 0 InstallSnapshot fail
rf.commitIndex 295 args.LastIncludedIndex 289
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 0 vote for server 2
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 0
term 49 server 2 become leader
------------------------------------------------------
term 49 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21750 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 11709 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
flag 15419 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 35649 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
flag 84966 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 13138 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
flag 74726 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 79046 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
flag 21306 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 46282 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
flag 15926 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 92581 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
flag 33380 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 1809 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52528 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 79299 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8476337578209936816 (index 299) to leader 2
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 89109 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 77921 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 44 289} {7337614640771829318 44 290} {5824559330532598455 44 291} {5561416641034593947 44 292} {5424363046788546765 44 293} {3660443082825764894 44 294} {3660443082825764894 46 295} {5984437379947654299 47 296} {6303399867230390627 47 297} {9101933216090023078 47 298} {8476337578209936816 49 299}]
------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 30615 term 49 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 49 299}]
------------------------------------------------------
term 49 Server1 start snapshot! index=299
term 49 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 5888074007422322911 (index 300) to leader 2
client write log 7988472549892002878 (index 301) to leader 2
client write log 767063368505433940 (index 302) to leader 2
client write log 8943978870554769448 (index 303) to leader 2
client write log 1331094741947226160 (index 304) to leader 2
client write log 8149763941772259636 (index 305) to leader 2
client write log 1446623339343580271 (index 306) to leader 2
term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 31035 term 49 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306}]
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 57855 term 49 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 49 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1157625644082677360 (index 307) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 1 not vote for server 0, 日志不够新
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get outdate rpc reply from server 0
flag 26567 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 1240 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 15303 term 51 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 49 rf.commitIndex 299 rf.lastApplied 299
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 0
flag 43578 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 438 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 95591 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 26696 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
flag 27213 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 4216 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 74554 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 95747 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 1915 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 2741 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18536 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 99114 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99606 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 13281 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 44862 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 90817 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 82732 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 61660 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 57521 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 28141 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 29509 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 50119 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 65005 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 71558 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 15883 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 33357 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 24359 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 19186 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14046 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 64831 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99154 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 79223 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 73805 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 783 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
flag 90455 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 85712 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307}]
------------------------------------------------------
client write log 1157625644082677360 (index 308) to leader 2
flag 43813 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
flag 45156 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
flag 73135 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 88611 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
flag 25200 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 59137 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
flag 85639 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 56233 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
flag 20252 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 94334 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12131 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 86362 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6841254919291602641 (index 309) to leader 2
flag 13108 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 47188 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 299} {5888074007422322911 49 300} {7988472549892002878 49 301} {767063368505433940 49 302} {8943978870554769448 49 303} {1331094741947226160 49 304} {8149763941772259636 49 305} {1446623339343580271 49 306} {1157625644082677360 49 307} {1157625644082677360 51 308} {6841254919291602641 51 309}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 52329 term 51 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 6414689611837862635 (index 310) to leader 2
client write log 935060005032093024 (index 311) to leader 2
client write log 756123805227836624 (index 312) to leader 2
client write log 8378724772573905119 (index 313) to leader 2
client write log 6184916443340430391 (index 314) to leader 2
client write log 5773926420531428557 (index 315) to leader 2
client write log 2102567007519381371 (index 316) to leader 2
client write log 7828993290144206476 (index 317) to leader 2
client write log 1789447524360129648 (index 318) to leader 2
client write log 1297852959202840273 (index 319) to leader 2
client write log 2664514698591993252 (index 320) to leader 2
client write log 3433268667180228095 (index 321) to leader 2
client write log 6497865609263431160 (index 322) to leader 2
client write log 1398608210376553916 (index 323) to leader 2
client write log 3375208575567875819 (index 324) to leader 2
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 17116 term 51 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 309} {6414689611837862635 51 310} {935060005032093024 51 311} {756123805227836624 51 312} {8378724772573905119 51 313} {6184916443340430391 51 314} {5773926420531428557 51 315} {2102567007519381371 51 316} {7828993290144206476 51 317} {1789447524360129648 51 318} {1297852959202840273 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324}]
------------------------------------------------------
term 51 Server2 start snapshot! index=319
term 51 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=324
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 97828 term 51 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324}]
------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=324
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5181085178226177880 (index 325) to leader 2
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get outdate rpc reply from server 0
flag 99498 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 20192 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 326->325
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 326->325
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 42176 term 53 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
flag 72195 term 53 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 21049 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 88222 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 86993 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 91827 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 15068 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 79410 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 75867 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 49954 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 97370 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61230 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 19452 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47282 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 17789 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48497 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 84266 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 92647 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 60553 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33335 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 85491 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 71192 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 44567 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16864 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 8873 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 92965 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 24495 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 23052 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 26111 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 42937 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 93723 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 17795 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 8726 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
flag 75554 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 44800 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77033 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 93873 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325}]
------------------------------------------------------
client write log 5181085178226177880 (index 326) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75851 term 53 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 589 term 53 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 53 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85484 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 35683 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
flag 33816 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 79789 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97360 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 78780 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
flag 75173 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 7449 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
flag 61577 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 28885 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 27518 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 5988 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 49987 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 81054 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 72569 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 30666 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 99059 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 78632 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get vote from server 1
term 54 server 0 become leader
------------------------------------------------------
flag 21744 term 54 leader 0 nextIndex[1]: 327  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 87995 term 54 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326}]
------------------------------------------------------
client write log 5359188333627563740 (index 327) to leader 0
flag 52081 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 63173 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 84499 term 54 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 54 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 47653 term 54 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326} {5359188333627563740 54 327}]
------------------------------------------------------
flag 22985 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 20841 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 88474 term 54 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 54 leaderCommit: 327 
------------------------------------------------------
flag 4542 term 54 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326} {5359188333627563740 54 327}]
------------------------------------------------------
client write log 7308733833130582574 (index 328) to leader 0
client write log 7758648866765012828 (index 329) to leader 0
client write log 5824336918650743187 (index 330) to leader 0
client write log 1494748972590154717 (index 331) to leader 0
client write log 8184586887555559136 (index 332) to leader 0
client write log 8420616213735899302 (index 333) to leader 0
client write log 5777200097918660729 (index 334) to leader 0
client write log 5151227682310079908 (index 335) to leader 0
flag 99039 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 1992 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 81336 term 54 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 54 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 54 leaderCommit: 327 
------------------------------------------------------
flag 15219 term 54 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 51 319} {2664514698591993252 51 320} {3433268667180228095 51 321} {6497865609263431160 51 322} {1398608210376553916 51 323} {3375208575567875819 51 324} {5181085178226177880 51 325} {5181085178226177880 53 326} {5359188333627563740 54 327} {7308733833130582574 54 328} {7758648866765012828 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 54 Server0 start snapshot! index=329
term 54 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
flag 77479 term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 91941 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 327->326
------------------------------------------------------
flag 67721 term 54 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3735733593245643953 (index 327) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 327->326
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 0  matchIndex[0]: 326
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 326
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15778 term 54 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 54 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 54 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 54 rf.commitIndex 329 rf.lastApplied 329
term 54 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 0 not vote for server 2, 日志不够新
term 56 server 2 vote for server 0
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 2
term 56 server 0 become leader
------------------------------------------------------
term 56 server 0 get outdate rpc reply from server 1
flag 10523 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 45968 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 336->335
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32831 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 9122 term 56 leader 0 nextIndex[2]: 330  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 5526 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 1824 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 59833 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 59873 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 62329 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 59981 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 45948 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 22058 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50504 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 78002 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 31317 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 60355 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 51590 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 22349 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68029 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 15099 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67973 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 35008 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 76808 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 43716 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 11387 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 79610 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 24450 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 42326 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 70557 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 13342 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 18731 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 23900 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31232 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 21055 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
flag 32253 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 76229 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3735733593245643953 (index 336) to leader 0
flag 64604 term 56 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 48568 term 56 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 56 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
flag 53092 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 2598 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
flag 61378 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 61798 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
flag 98152 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 5157 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16449 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 63696 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
flag 52558 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 68649 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85101 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 32695 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8511004144104550947 (index 337) to leader 0
flag 32211 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
flag 18317 term 56 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 336 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336} {8511004144104550947 56 337}]
------------------------------------------------------
flag 22310 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 337 
------------------------------------------------------
flag 29366 term 56 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 56 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 337 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336} {8511004144104550947 56 337}]
------------------------------------------------------
client write log 2577636797222468885 (index 338) to leader 0
client write log 6887155343008688283 (index 339) to leader 0
client write log 4068428580459939780 (index 340) to leader 0
client write log 7822526329914776502 (index 341) to leader 0
client write log 8956506017558289769 (index 342) to leader 0
client write log 704960289545816645 (index 343) to leader 0
client write log 6661265110083964330 (index 344) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32358 term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 56 leaderCommit: 337 
------------------------------------------------------
flag 34629 term 56 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 56 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 56 leaderCommit: 337 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 329} {5824336918650743187 54 330} {1494748972590154717 54 331} {8184586887555559136 54 332} {8420616213735899302 54 333} {5777200097918660729 54 334} {5151227682310079908 54 335} {3735733593245643953 56 336} {8511004144104550947 56 337} {2577636797222468885 56 338} {6887155343008688283 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344}]
------------------------------------------------------
term 56 Server0 start snapshot! index=339
term 56 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 56
------------------------------------------------------
flag 59123 term 56 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 56 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344}]
------------------------------------------------------
term 56 Server2 start snapshot! index=339
term 56 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3641225213395725636 (index 345) to leader 0
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 56
------------------------------------------------------
flag 84946 term 56 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 56 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 57 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 1 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
term 58 server 0 get outdate rpc reply from server 1
flag 9210 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 77878 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 346->345
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 337  matchIndex[1]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 56
------------------------------------------------------
flag 79981 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 InstallSnapshot success
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 56 rf.commitIndex 339 rf.lastApplied 339
flag 39372 term 58 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 58 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 21289 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 73494 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 82125 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 68281 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 83799 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 87302 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 39375 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99847 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 2382 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 27886 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 55868 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40587 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 69133 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 81414 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 13736 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 25753 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 18523 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 75231 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 53825 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57911 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 75833 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 82633 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 9302 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29126 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 16122 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 85735 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 54826 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 32768 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 11600 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
flag 70886 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 65214 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62897 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 7338 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345}]
------------------------------------------------------
client write log 3641225213395725636 (index 346) to leader 0
flag 81888 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
flag 92116 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 56 leaderCommit: 344 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
flag 98573 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 34494 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
flag 70862 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 15402 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
flag 71143 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 8297 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
flag 77403 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 52895 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
flag 14678 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 90315 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {4068428580459939780 56 340} {7822526329914776502 56 341} {8956506017558289769 56 342} {704960289545816645 56 343} {6661265110083964330 56 344} {3641225213395725636 56 345} {3641225213395725636 58 346}]
------------------------------------------------------
  ... Passed --  86.4  3 1963  874110  346
--- PASS: TestSnapshotInstall2D (86.41s)
PASS
